# План Миграции: WoWNavigator Python -> C++

### Phase 1: GUI & Visualization Foundation
*   **Цель:** Создать визуальную часть приложения.
*   ✅ **TODO 1.1:** Создать `MainWindow` Layout.
*   ✅ **TODO 1.2:** Интегрировать 3D-виджет (`VtkWidget`) и научить его рисовать меши, точки и пути.
*   ✅ **TODO 1.3:** Подключить зависимости `VTK` и `Eigen`.

**Статус: Phase 1 ПОЛНОСТЬЮ ЗАВЕРШЕНА.**

---

### Phase 2: NavMesh Generation
*   **Цель:** Преобразовать сырую геометрию в проходимый меш.

*   ✅ **TODO 2.1:** Создать базовые типы (`Types.h`).
*   ✅ **TODO 2.2:** Реализовать `NavMeshGenerator` (`Voxelizer.cpp`).
    *   ✅ Загрузка `.obj`.
    *   ✅ Фильтрация полигонов по углу наклона (`angle`).
    *   ✅ **Реализована** фильтрация по высоте агента (`height`) с помощью рейкастинга.
*   ✅ **TODO 2.3:** Связать `NavMeshGenerator` с GUI.
    *   ✅ `MainWindow` теперь вызывает `build()` и отображает результат (сырой и проходимый меши).

**Статус: Phase 2 ПОЛНОСТЬЮ ЗАВЕРШЕНА.**

---

### Phase 3: Pathfinding on NavGraph
*   **Цель:** Реализовать "умный" поиск пути по графу.

*   ✅ **TODO 3.1:** Построить граф навигации (`NavGraph`).
    *   ✅ Создан класс `NavGraph`.
    *   ✅ `NavGraph` принимает `walkableMesh` и строит по нему узлы (центры полигонов).
    *   ✅ `NavGraph` находит соседние полигоны и строит ребра.
    *   ✅ **Реализован** фильтр по высоте шага (`step`).
*   ✅ **TODO 3.2:** Адаптировать `Pathfinder` для работы с графом.
    *   ✅ `Pathfinder` принимает на вход `NavGraph`.
    *   ✅ **Реализован** алгоритм A* для поиска пути по узлам графа.
    *   ❌ **Осталось сделать:** Реализовать `PathSmoother` для "выпрямления" пути и обхода препятствий между узлами.
*   ✅ **TODO 3.3:** Связать `Pathfinder` с GUI.
    *   ✅ `MainWindow` строит `NavGraph`.
    *   ✅ `MainWindow` находит ближайшие узлы и вызывает `Pathfinder`.
    *   ✅ `MainWindow` отображает найденный путь.

**Статус: Phase 3 почти завершена.** Остался финальный и самый важный штрих — **`PathSmoother`**.

---

### Phase 4: Data Management & Integration
*   **Цель:** Сохранение/загрузка, управление картой и взаимодействие с игрой.

*   ❌ **TODO 4.1:** Реализовать сериализацию (`cereal`).
*   ❌ **TODO 4.2:** Реализовать `TileManager`.
*   ✅ **TODO 4.3:** `WoWController` и `MemoryReader` готовы.
    *   ✅ Функция поиска PID процесса по имени **реализована** и 