НОВЫЙ TODO.md (Актуальная версия)
План Разработки: WoWNavigator C++
Phase 1: GUI & Visualization Foundation
Статус: ЗАВЕРШЕНА.
✅ Создан MainWindow, интегрирован VtkWidget (VTK).
Phase 2: Voxel-based NavMesh Generation
Цель: Создать надежный конвейер для генерации воксельной навигационной сетки из .obj геометрии.
Статус: В ПРОЦЕССЕ.
✅ TODO 2.1: Реализован ObjLoader и базовые типы.
✅ TODO 2.2: Реализован Voxelizer с базовыми фильтрами:
✅ createSolidVoxels: Растеризация всей геометрии.
✅ filterWalkableFloors: Поиск "полов".
✅ filterByAgentHeight: Фильтр по высоте агента.
✅ TODO 2.3: Реализован VoxelCoster для создания "карты опасностей".
✅ Умная проверка на обрывы, игнорирующая лестницы.
✅ TODO 2.4: Реализован Pathfinder (A*), работающий по воксельной сетке с учетом стоимостей.
✅ TODO 2.5: MainWindow умеет запускать генерацию и отображать все этапы, включая карту опасностей.
❌ TODO 2.6 (ТЕКУЩАЯ ЗАДАЧА): Реализовать финальные фильтры проходимости.
❌ 2.6.1: Реализовать фильтрацию полигонов по углу наклона (agentMaxSlope) ПЕРЕД вокселизацией, чтобы убрать "стены-лестницы".
❌ 2.6.2: Улучшить фильтр по радиусу агента (agentRadius), чтобы он корректно "съедал" узкие проходы, но не трогал проходимые склоны.
Phase 3: Advanced Navigation & Data
Цель: Добавить проверку видимости, поддержку полетов и систему сохранения/загрузки.
❌ TODO 3.1: Реализовать Raycasting (проверка линии видимости).
❌ 3.1.1: NavMeshGenerator должен хранить solidGrid (сетку со всеми препятствиями).
❌ 3.1.2: Реализовать в NavMeshGenerator метод raycast(), использующий solidGrid.
❌ 3.1.3: Добавить в MainWindow простой инструмент для визуального тестирования лучей.
❌ TODO 3.2: Реализовать навигацию в режиме полета (Flight Mode).
❌ 3.2.1: NavMeshGenerator должен создавать flyableGrid (карта "воздуха" с эрозией по радиусу).
❌ 3.2.2: Адаптировать Pathfinder для работы с flyableGrid.
❌ 3.2.3: Добавить в MainWindow галочку Flight Mode для тестирования поиска пути в полете.
❌ TODO 3.3: Реализовать сериализацию данных тайла.
❌ 3.3.1: Создать класс NavDataSerializer.
❌ 3.3.2: Реализовать сохранение в бинарный файл (.navtile) всех необходимых данных (solidGrid, voxelCosts, flyableGrid и метаданные).
❌ 3.3.3: Реализовать загрузку из файла.
❌ 3.3.4: Интегрировать в MainWindow кнопки "Сохранить/Загрузить".
Phase 4: World Management & Integration
Цель: Перейти от обработки одного тайла к управлению целым миром.
❌ TODO 4.1: Создать класс Tile как контейнер данных для одного тайла (NavMeshGenerator, vtkPolyData и т.д.).
❌ TODO 4.2: Создать класс TileManager.
❌ 4.2.1: Реализовать логику управления сеткой 3x3 (загрузка/выгрузка тайлов).
❌ 4.2.2: Научить TileManager "сшивать" пути между тайлами.
❌ 4.2.3: Реализовать в MainWindow "умную" визуализацию сетки 3x3 с уровнями детализации (LOD).
✅ TODO 4.3: WoWController и MemoryReader готовы.
❌ 4.3.1: Интегрировать WoWController с TileManager для автоматического обновления сетки по координатам игрока.