#include "gui/MainWindow.h" // Подключаем заголовок нашего будущего окна
#include "shared/Logger.h"  // Подключаем наш логгер
#include <QApplication>     // Основа любого Qt GUI приложения


/**
 * @brief Главная функция, точка входа в приложение.
 * @param argc Количество аргументов командной строки.
 * @param argv Массив аргументов командной строки.
 * @return Код завершения приложения.
 */
int main(int argc, char *argv[]) {
  // 1. Создаем экземпляр приложения. Это нужно сделать первым.
  QApplication app(argc, argv);

  // 2. Настраиваем нашу систему логирования, которую мы уже создали.
  setupLogger();

  // Логируем старт приложения
  qInfo(lcApp) << "Application starting...";

  // 3. Создаем экземпляр нашего главного окна.
  // Пока что в нем ничего нет, но мы его создадим на следующем шаге.
  MainWindow mainWindow;

  // 4. Показываем окно на экране.
  mainWindow.show();

  qInfo(lcApp) << "Main window shown. Entering event loop.";

  // 5. Запускаем главный цикл обработки событий Qt.
  // Программа будет "висеть" здесь и ждать действий пользователя (клики, ввод и
  // т.д.), пока окно не будет закрыто.
  return app.exec();
}