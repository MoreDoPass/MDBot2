Фреймворк Дерева Поведения (Behavior Tree) - Этот модуль — каркас для построения логики поведения бота. Логика собирается не в виде if-else, а в виде дерева из "блоков"-узлов. Каждый цикл бот "прогоняет" это дерево от корня, чтобы определить, какое действие нужно выполнить сейчас.

Ключевые компоненты:
1. BTContext (Контекст) - передается в каждый узел и служит двум целям:
Доступ к миру: Это контейнер с указателями на все менеджеры (GameObjectManager, Character и т.д.). Через него узел может проверить здоровье персонажа или получить список объектов вокруг.

Общая память ("Черная доска"): Это место для обмена данными между узлами. Один узел (например, НайтиВрага) находит цель и записывает ее ID в context.currentTargetGuid. Другой узел (АтаковатьЦель) читает этот ID из контекста и выполняет действие.

2. NodeStatus (Статус выполнения)
Каждый узел после работы возвращает свой статус:
Success: Задача выполнена.
Failure: Задача провалена.
Running: Задача еще в процессе (например, движение).

Строительные Блоки (Типы Узлов):
Композитные узлы (Ветви)
SequenceNode
Логика: "И" (AND).
Правило: Выполняет дочерние узлы по порядку. Возвращает Success только если ВСЕ дети вернули Success. Проваливается и останавливается, как только один из детей вернет Failure.
Когда использовать: Для пошаговых действий. Пример: (1)Подойти к руде -> (2)Собрать руду.
SelectorNode
Логика: "ИЛИ" (OR).
Правило: Выполняет дочерние узлы по порядку. Возвращает Success как только один из детей вернет Success. Проваливается, только если ВСЕ дети вернули Failure.
Когда использовать: Для выбора одного из нескольких вариантов поведения. Пример: (1)Атаковать врага ИЛИ (2)Собирать ресурсы ИЛИ (3)Бежать по маршруту.
Декораторы (Модификаторы)
InverterNode
Логика: "НЕ" (NOT).
Правило: Инвертирует результат единственного дочернего узла: Success становится Failure, а Failure — Success.
Когда использовать: Для проверки обратного условия. Пример: НЕ (Сумка полная?).
Листовые узлы (Действия и Проверки)
Это конечные узлы, которые выполняют реальную работу.
ConditionNode (Условие): Простая проверка (IsEnemyNear?, IsHealthLow?). Мгновенно возвращает Success или Failure.
ActionNode (Действие): Реальное действие (MoveToTarget, AttackTarget). Может возвращать Running, если действие занимает время.