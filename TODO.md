# TODO: Реализация системы waypoints для навигации бота

## 1. Структура проекта

- `src/core/Bot/Movement/`
  - `CtM.cpp/h` — управление движением через Click To Move
  - `PathFinding/`
    - `Waypoints.cpp/h` — логика работы с waypoints (добавление, хранение, загрузка/сохранение, поиск пути)
    - `PathFinder.cpp/h` — алгоритмы поиска пути по графу (A*, обход)
    - `ObstacleMap.cpp/h` — (опционально) описание препятствий

## 2. Основные этапы

1. **Создать классы для waypoints**
    - Структура Waypoint (x, y, z, список соседей)
    - Класс WaypointGraph (добавление точки, добавление связи, поиск ближайшей точки)
2. **Реализовать добавление waypoints**
    - Добавлять точку только если расстояние до последней больше порога (например, 2 метра)
    - Добавлять связь между последней и новой точкой
3. **Сохранение и загрузка графа**
    - Сохранять граф в файл (например, JSON или CSV)
    - Загружать граф при старте бота
4. **Реализовать поиск пути**
    - Реализовать простой поиск пути (например, A* или BFS) по графу waypoints
    - Функция: найти путь от текущей позиции до целевой точки
5. **Интеграция с движением (CtM)**
    - Бот строит маршрут по waypoints и поочерёдно двигается к каждой точке маршрута через Click To Move
6. **Визуализация и отладка (опционально)**
    - Реализовать простую визуализацию графа (например, через Qt или экспорт в Graphviz)
    - Добавить команды для ручного добавления/удаления точек
7. **Оптимизация графа (опционально)**
    - Удалять лишние точки, объединять близкие
    - Проверять, не дублируются ли связи

## 3. Рекомендации для новичка

- Начать с простого: только Waypoints.cpp/h и интеграция с CtM
- Использовать QVector или std::vector для хранения точек
- Сохранять граф в простой текстовый файл
- Постепенно добавлять новые функции (поиск пути, визуализация, оптимизация)

## 4. Примерный порядок задач

1. Создать структуру Waypoint и класс WaypointGraph
2. Реализовать добавление точек и связей
3. Реализовать сохранение/загрузку графа
4. Реализовать простой поиск пути
5. Интегрировать с движением бота
6. (Опционально) Визуализация и оптимизация
